"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[692],{354:(e,t,s)=>{s.d(t,{A:()=>r});const c=s.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",a=s.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var n=s(579);const r=()=>(0,n.jsxs)("div",{className:"app__banner",children:[(0,n.jsx)("img",{src:c,alt:"Avengers"}),(0,n.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,n.jsx)("br",{}),"Stay tuned!"]}),(0,n.jsx)("img",{src:a,alt:"Avengers logo"})]})},569:(e,t,s)=>{s.d(t,{A:()=>i});var c=s(43),a=s(186),n=s(579);class r extends c.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,t){console.log(e,t),this.setState({error:!0})}render(){return this.state.error?(0,n.jsx)(a.A,{}):this.props.children}}const i=r},186:(e,t,s)=>{s.d(t,{A:()=>n});const c=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var a=s(579);const n=()=>(0,a.jsx)("div",{className:"error-message",children:(0,a.jsx)("img",{src:c,alt:"Error",className:"error-message"})})},637:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var c=s(354),a=s(569),n=s(43),r=s(475),i=s(897),o=s(186),l=s(502),d=s(579);const m=e=>{const[t,s]=(0,n.useState)([]),[c,a]=(0,n.useState)(!1),[m,u]=(0,n.useState)(0),[h,p]=(0,n.useState)(!1),{loading:g,error:b,getAllComics:v}=(0,i.A)();(0,n.useEffect)((()=>{x(m,!0)}),[]);const x=(e,t)=>{a(!t),v(e).then(j)},j=e=>{let t=!1;e.length<8&&(t=!0),s((t=>[...t,...e])),a(!1),u((e=>e+8)),p(t)};const f=function(e){const t=e.map(((e,t)=>(0,d.jsx)("li",{className:"comics__item",children:(0,d.jsxs)(r.N_,{to:"/comics/".concat(e.id),children:[(0,d.jsx)("img",{src:e.thumbnail,alt:e.name,className:"comics__item-img"}),(0,d.jsx)("div",{className:"comics__item-name",children:e.description}),(0,d.jsx)("div",{className:"comics__item-price",children:e.price})]})},t)));return(0,d.jsx)("ul",{className:"comics__grid",children:t})}(t),_=b?(0,d.jsx)(o.A,{}):null,y=g&&!c?(0,d.jsx)(l.A,{}):null;return(0,d.jsxs)("div",{className:"comics__list",children:[_,y,f,(0,d.jsx)("button",{className:"button button__main button__long",disabled:c,style:{display:h?"none":"block"},onClick:()=>x(m),children:(0,d.jsx)("div",{className:"inner",children:"load more"})})]})},u=()=>(0,d.jsxs)("div",{className:"comics",children:[(0,d.jsx)(c.A,{}),(0,d.jsx)("main",{children:(0,d.jsx)(a.A,{children:(0,d.jsx)(m,{})})})]})},897:(e,t,s)=>{s.d(t,{A:()=>n});var c=s(43);const a=e=>{const[t,s]=(0,c.useState)(!1),[a,n]=(0,c.useState)(null),r=(0,c.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};s(!0);try{const a=await fetch(e,{method:t,body:c,headers:r});if(!a.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(a.status));const n=await a.json();return s(!1),n}catch(a){throw s(!1),n(a.message),a}}),[]);return{loading:t,request:r,error:a,clearError:(0,c.useCallback)((()=>{n(null)}),[])}},n=()=>{const{loading:e,request:t,error:s,clearError:c}=a(),n="https://gateway.marvel.com:443/v1/public/",r="apikey=13fce9aab4e28128f7b9d466dbd48844",i=e=>({id:e.id,name:e.name,description:e.description?"".concat(e.description.slice(0,150),"..."):"Sorry...There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items?e.comics.items.slice(0,10):null}),o=e=>{var t;return{id:e.id,title:e.title,description:e.description?"".concat(e.description.slice(0,35),"..."):"Sorry...There is no description",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,language:(null===(t=e.textObjects[0])||void 0===t?void 0:t.language)||"en-us",price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available"}};return{loading:e,error:s,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await t("".concat(n,"characters?limit=9&offset=").concat(e,"&").concat(r))).data.results.map(i)},getCharacter:async e=>{const s=await t("".concat(n,"characters/").concat(e,"?").concat(r));return i(s.data.results[0])},clearError:c,getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await t("".concat(n,"comics?orderBy=issueNumber&limit=8&offset=").concat(e,"&").concat(r))).data.results.map(o)},getComic:async e=>{const s=await t("".concat(n,"comics/").concat(e,"?").concat(r));return o(s.data.results[0])}}}}}]);
//# sourceMappingURL=692.156ee56f.chunk.js.map